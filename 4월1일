#include <iostream>
using namespace std;


const int CARS = 3;   // 호차 수
const int ROWS = 5;   // 각 호차당 행 수
const int COLS = 4;   // 좌석 수 (좌2 + 우2)
int train[CARS][ROWS][COLS] = { 0 };

void printHeader(int u) {
    cout << "12   34(" << u + 1 << "호차)" << endl; //u(호차)를 변수 하나 더 둬야 입력받기 가능
}

void printDivider() {
    cout << "--------" << endl;
}

void printCar(int seats[5][4], int u) {          //화면에 출력해줌
        printHeader(u);
        printDivider();
        for (int i = 0; i < 5; i++) {             // 가로 출력
            for (int j = 0; j < 2; j++) {           // 왼쪽 2좌석
                cout << (seats[i][j] == 1 ? "1" : "0");  //??
            }
            cout << "   ";
            for (int j = 2; j < 4; j++) {                         // 오른쪽 2좌석
                cout << (seats[i][j] == 1 ? "1" : "0");           //??
            }
            cout << endl;
        }
        printDivider();
    
}

void printAllCars(int train[3][5][4]) {     //train 배열
    for (int car = 0; car < 3; car++) {
        printCar(train[car], car);    // train[0], 0 : ???
    }
}

int main() {
    while (true) {
        
        int num1;
            cout << "**기차 예약 시스템**" << endl;
            cout << "1. 좌석 예약 시스템" << endl;
            cout << "2. 예약 변경" << endl;
            cout << "3. 프로그램 종료" << endl;
            cout << "번호를 입력하세요 : ";
            cin >> num1;

        switch (num1) {
        case 1: {

            printAllCars(train);

            int train[3][5][4] = { {{0}} }; // 3차원 배열: [호차][행][좌석]

            int reserveCount;
            int adult, child;
            cout << "성인(25000원):";
            cin >> adult;
            cout << "청소년(18000원):";
            cin >> child;
            reserveCount = adult + child;

            for (int i = 0; i < reserveCount; i++) {
                int car, row, seat;
                cout << "\n몇 호차를 예약하시겠습니까? " << endl;
                cin >> car;
                if (car < 1 || car > 3) {
                    cout << "예약 가능한 호차가 아닙니다." << endl;
                    i--;
                    continue;
                }

                cout << "몇열, 몇번째 좌석을 예약하시겠습니까? " << endl;
                cin >> row >> seat;
                
                car--; row--; seat--;

             
               

               if (row < 0 || row >= 5 || seat < 0 || seat > 4) {
                    cout << "예약 가능한 좌석이 아닙니다." << endl;
                    i--;
                    continue;
                }
                else if (train[car - 1][row][seat - 1] == 1) {
                    cout << "이미 예약되었습니다. 다른 자리를 선택하세요." << endl;
                    i--;
                    continue;
                }
                else {
                    train[car - 1][row][seat - 1] = 1;
                    cout << "예약되었습니다." << endl;

                }
                
            }
            printAllCars(train); 
               
            }
            
           
        

        case 2:
            printAllCars(train);
            int num2;
            int car, row, seat;
            cout << "바꿀 좌석의 갯수를 입력하세요 :";
            cin >> num2;
            cout << "현재 좌석과 바꿀 좌석을 입력하세요 :";
            //cout << "현재 좌석(H호차, N열, M번째):"<< car << row << seat;
       
            return 0;
        }
    }
}
